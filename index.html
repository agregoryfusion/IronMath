<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Competetive Learning</title>

  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <div class="app-shell">
    <header class="hero">
      <h1 id="userName">Player</h1>
      <div class="hero-meta">
        <span class="pill pill-ghost" id="version"></span>        
        <button id="signOutBtn" class="ghost">Sign out</button>
        <div class="category-filters">
          <button class="filter-pill" data-field="Math">Math</button>
          <button class="filter-pill" data-field="Geography">Geography</button>
          <button class="filter-pill" data-field="Science">Science</button>
          <button class="filter-pill" data-field="Language">Language</button>
        </div>
      </div>
    </header>

    <!-- Sign-In Screen -->
    <div id="login-screen" class="panel">
      <div class="login-copy">
        <h2>Sign in to continue</h2>
        <p class="note">Use your Fusion Microsoft account.</p>
      </div>
      <div class="login-actions">
        <button id="loginBtn">Sign in with Microsoft</button>
        <div id="loginStatus"></div>
      </div>
    </div>

    <!-- Home / launcher -->
    <section id="home-screen" class="home-screen">
      <div class="user-card panel">
        <div class="user-card-left">
          <p class="eyebrow">Signed in</p>
          <h3 id="userNameCard">Player</h3>
          <p id="userEmail" class="muted"></p>
        </div>
        <div class="user-card-right">
          <p class="eyebrow">Unique login days</p>
          <div class="unique-days-row">
            <span id="uniqueDaysValue" class="unique-days-value">--</span>
            <div class="unique-days-meta">
              <span id="uniqueDaysRange" class="muted small"></span>
              <span id="uniqueDaysStatus" class="muted small"></span>
            </div>
          </div>
          <div class="user-card-actions">
            <button id="openLoginLeaderboardBtn" class="primary-btn small">Login Leaderboard</button>
          </div>
        </div>
      </div>
      <div class="app-grid">
        <div class="app-card" data-field="Math">
          <div class="app-card-heading">
            <h3>Times Tables</h3>
            <span class="pill pill-ghost small-pill">Math</span>
          </div>
          <p class="muted">Race the clock and your friends to claim the Emperor title.</p>
          <div class="card-actions">
            <a class="primary" href="fasttimestables.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="Math">
          <div class="app-card-heading">
            <h3>Adding Up</h3>
            <span class="pill pill-ghost small-pill">Math</span>
          </div>
          <p class="muted">Stack sums that grow harder as you climb the leaderboard.</p>
          <div class="card-actions">
            <a class="primary" href="addingup.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="Math">
          <div class="app-card-heading">
            <h3>Factor Sprint</h3>
            <span class="pill pill-ghost small-pill">Math</span>
          </div>
          <p class="muted">Pick every clean divisor before time runs out, with growing factor ranges.</p>
          <div class="card-actions">
            <a class="primary" href="factoring.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="Geography">
          <div class="app-card-heading">
            <h3>State Capitals</h3>
            <span class="pill pill-ghost small-pill">Geography</span>
          </div>
          <p class="muted">Sprint through all 50 states and see how many capitals you can name the fastest.</p>
          <div class="card-actions">
            <a class="primary" href="statecapitals.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="Geography">
          <div class="app-card-heading">
            <h3>World Capitals</h3>
            <span class="pill pill-ghost small-pill">Geography</span>
          </div>
          <p class="muted">Shuffle continents, answer every capital once, and skip a continent if you must.</p>
          <div class="card-actions">
            <a class="primary" href="worldcapitals.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="Language">
          <div class="app-card-heading">
            <h3>Number Languages (Romance)</h3>
            <span class="pill pill-ghost small-pill">Language</span>
          </div>
          <p class="muted">French vs Spanish vs Portuguese vs Italian — spot the “and” rules, hyphens, and vowel patterns.</p>
          <div class="card-actions">
            <a class="primary" href="numberlanguages.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="Language">
          <div class="app-card-heading">
            <h3>Number Languages (Germanic)</h3>
            <span class="pill pill-ghost small-pill">Language</span>
          </div>
          <p class="muted">Dutch, German, Swedish, Norwegian — watch compound stacking and “und/en” patterns.</p>
          <div class="card-actions">
            <a class="primary" href="numberlanguages_germanic.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="Science">
          <div class="app-card-heading">
            <h3>Periodic Sprint</h3>
            <span class="pill pill-ghost small-pill">Science</span>
          </div>
          <p class="muted">Name symbols and atomic numbers for every element; score up to 236 points.</p>
          <div class="card-actions">
            <a class="primary" href="elementquiz.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="Math">
          <div class="app-card-heading">
            <h3>Comparison-ing</h3>
            <span class="pill pill-ghost small-pill">Math</span>
          </div>
          <p class="muted">Choose which item wins head-to-head; Elo updates live to surface class favorites.</p>
          <div class="card-actions">
            <a class="primary" href="comparisoning.html">Launch</a>
          </div>
        </div>

        <div class="app-card" data-field="History">
          <div class="app-card-heading">
            <h3>Timeline Duel</h3>
            <span class="pill pill-ghost small-pill">History</span>
          </div>
          <p class="muted">Pick which event happened first; Elo ranks events into your class timeline.</p>
          <div class="card-actions">
            <a class="primary" href="comparison_timeline.html">Launch</a>
          </div>
        </div>
      </div>
    </section>

    <section id="login-leaderboard" class="panel login-leaderboard">
      <div class="lb-top">
        <div>
          <p class="eyebrow">Login Activity</p>
          <h3>Unique Days Leaderboard</h3>
        </div>
        <button id="loginLbBackBtn" class="ghost-btn">Back</button>
      </div>

      <div class="lb-controls">
        <div id="loginLbTimeButtons" class="lb-button-group">
          <button id="loginLbMonthlyBtn" class="active">Monthly</button>
          <button id="loginLbAllTimeBtn">All-Time</button>
        </div>
        <div id="loginLbScopeButtons" class="lb-button-group">
          <button id="loginLbEveryoneBtn" class="active">Everyone</button>
          <button id="loginLbStudentsBtn">Students</button>
          <button id="loginLbTeachersBtn">Teachers</button>
        </div>
      </div>

      <p id="loginLeaderboardStatus" class="muted"></p>
      <div class="leaderboard-table-wrap">
        <table id="loginLeaderboardTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Username</th>
              <th>Unique Days</th>
              <th>First Login</th>
              <th>Most Recent</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </div>

  <script type="module" src="js/home.js"></script>
</body>
</html>
